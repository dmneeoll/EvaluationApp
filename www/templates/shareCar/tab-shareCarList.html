<ion-view view-title="拼车" cache-view="false">
    <ion-nav-buttons side="left">
        <button class="button button-clear button-icon ion-ios-arrow-back" ng-click="closePass()">首页</button>
    </ion-nav-buttons>

    <ion-nav-buttons side="right">
        <button class="button button-clear " ng-click="openModal()">发 布</button>
    </ion-nav-buttons>


    <ion-content scroll="true" overflow-scroll="true" style="background-color:paleturquoise">



        <form>
            <div  class="bar bar-header item-input-inset" style="height: 50px;">
                <label class="item-input-wrapper">
                    <i class="icon ion-search placeholder-icon" ></i>
                    <input type="text" placeholder="Search" ng-model="query">
                </label>
            </div>
        </form>



        <div class="list card" style="margin-top:8px;margin-bottom:8px" ng-repeat="carInfo in carInfoList | filter:query" ng-click="open(carInfo)">
            <div class="item item-avatar">
                <img ng-if="carInfo.IsHaveCar==1"  src="img/ShareCar/chezhu.png">
                <img  ng-if="carInfo.IsHaveCar==0"  src="img/ShareCar/chengke.jpg">
                <h2 ng-if="carInfo.IsHaveCar==1" style="Margin:1px">车主发布</h2>
                <h2 ng-if="carInfo.IsHaveCar==0" style="Margin:1px">乘客发布</h2>
                <p style="font-size: 12px ;Margin:1px"><em class="agotime" am-time-ago="carInfo.CreateDate"></em></p>
            </div>

            <div class="item item-body">

                <p style="Margin:1px">
                    时间：{{carInfo.TimeStart | date:"MM月dd日 HH:mm"}}~{{carInfo.EndTime | date:"MM月dd日 HH:mm"}}
                </p>
                <p style="Margin:1px">
                    起点：{{carInfo.StartingPoint}}
                </p>
                <p style="Margin:1px">
                    终点：{{carInfo.EndPoint}}
                </p>
                <p ng-if="carInfo.IsHaveCar==1" style="Margin:1px">
                    途径点：{{carInfo.MidPoint}}
                </p>
                <p style="Margin:1px">
                    座位数：{{carInfo.SeatNumber}}
                </p>
                <p style="Margin:1px">
                    详细：{{carInfo.Description}}
                </p>




            </div>
            <div class="item ">
                <p>
                    <a href="#" class="subdued">{{carInfo.ReplyCount}}回复</a>
                </p>
            </div>

        </div>




    </ion-content>


    <script id="templates/modalCar.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar bar-header bar-positive">
                <h1 class="title">发布</h1>
                <button class="button button-clear button-primary" ng-click="modal.hide()">Cancel</button>
            </ion-header-bar>
            <ion-content class="padding">

                <div class="list card" >
                    <ion-list   ng-repeat=" t in typeList">
                        <ion-radio   name="1"  ng-click="selType(t)"><p>{{t.type}}</p></ion-radio>
                    </ion-list>
                </div>


                <div class="list card" ng-if="isHaveCar==1">
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">姓名</span><span class="input-label" style="width: 5px;color: red">*</span>
                        <div style="width: 130px;" > <input type="text" style="font-size:80%" readonly="readonly"  ng-model="accessEmployee.CName"/></div>
                        <span class="input-label" style="width: 10px;font-size:80%">工号</span><span class="input-label" style="width: 5px;color: red">*</span>
                        <input type="text" style="width: 10px;font-size:80%"  readonly="readonly" ng-model="accessEmployee.WorkdayNO"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">联系电话</span><span class="input-label" style="width: 5px;color: red">*</span>
                        <div style="width: 130px;" ><input type="text" style="font-size:80%"  ng-model="Submitdata.MobileNo"/></div>
                        <span class="input-label" style="width: 10px;font-size:80%">车牌号</span><span class="input-label" style="width: 5px;color: red">*</span>
                        <input type="text" style="width: 10px;font-size:80%;"  readonly="readonly" ng-model="Submitdata.CarNo"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">起点</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="text" style="font-size:80%"  ng-model="Submitdata.StartPoint"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">终点</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="text" style="font-size:80%"  ng-model="Submitdata.EndPoint"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">途经点</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="text" style="font-size:80%"  ng-model="Submitdata.MidPoint"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">开始时间</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="datetime-local" id="stTime" value="2015-09-24T13:59:59"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">结束时间</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="datetime-local" id="eTime" value="2015-09-24T13:59:59"/>
                    </div>

                    <div class="item item-input item-select">
                        <span class="input-label" style="width: 10px;font-size:80%">座位数</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <select  ng-model="seatNumber"  ng-change="selSeatNumber(seatNumber)">
                            <option selected="">请选择</option>
                            <option >1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                        </select>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">详细描述：</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <textarea rows="3" id="bz" style="font-size:80%;width: 500px" placeholder="备注"  ng-model="Submitdata.Description"></textarea>
                    </div>
                </div>


                <div class="list card" ng-if="isHaveCar==0">
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">姓名</span><span class="input-label" style="width: 5px;color: red">*</span>
                        <input type="text" style="width: 10px;font-size:80%" readonly="readonly"  ng-model="accessEmployee.CName"/>
                        <span class="input-label" style="width: 10px;font-size:80%">工号</span><span class="input-label" style="width: 5px;color: red">*</span>
                        <input type="text" style="width: 10px;font-size:80%"  readonly="readonly" ng-model="accessEmployee.WorkdayNO"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">联系电话</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="text" style="font-size:80%"  ng-model="Submitdata.MobileNo"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">起点</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="text" style="font-size:80%"  ng-model="Submitdata.StartPoint"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">终点</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="text" style="font-size:80%"  ng-model="Submitdata.EndPoint"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">开始时间</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="datetime-local" id="startTime2" value="2015-09-24T13:59:59"/>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">结束时间</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <input type="datetime-local" id="endTime2" value="2015-09-24T13:59:59"/>
                    </div>
                    <div class="item item-input item-select">
                        <span class="input-label" style="width: 10px;font-size:80%">座位数</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <select  ng-model="seatNumber"  ng-change="selSeatNumber(seatNumber)">
                            <option selected="">请选择</option>
                            <option >1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                        </select>
                    </div>
                    <div class="item item-input">
                        <span class="input-label" style="width: 10px;font-size:80%">详细描述：</span><span class="input-label" style="width: 10px;color: red">*</span>
                        <textarea rows="3" id="bz" style="font-size:80%;width: 500px" placeholder="备注"  ng-model="Submitdata.Description"></textarea>
                    </div>
                </div>

                <br>
                <div style="text-align: center" ng-if="isHaveCar!=-1"><button  class="button button-block  button-positive" ng-click="submit()">提 交</button></div>
            </ion-content>
        </ion-modal-view>
    </script>

</ion-view>